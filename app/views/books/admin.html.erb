<h1>Books on Demand Requests</h1>

<script>

$(function(){

  $.tablesorter.themes.bootstrap = {
    iconSortNone : 'bootstrap-icon-unsorted', // class name added to icon when column is not sorted
    iconSortAsc  : 'glyphicon glyphicon-chevron-up', // class name added to icon when column has ascending sort
    iconSortDesc : 'glyphicon glyphicon-chevron-down',
  };

  $("#adminTable").tablesorter({
    theme: 'bootstrap',
    headerTemplate : '{content} {icon}',
    widgets : [ "uitheme", "filter" ],
  });
});

</script>

<table id="adminTable" class="table table-striped table-hover tablesorter">
  <thead>
    <tr>
      <th>ID</th>
      <th>User</th>
      <th>Title</th>
      <th>Submit Date</th>
      <th>Delivery Type</th>
      <th class="{sorter: false, filter: false}"></th>
    </tr>
  </thead>
  <tbody>
  <% @books.each do |book| %>
    <tr>
      <td><%= book.id %></td>
      <td><%= book.name %></td>
      <td><%= book.title %></td>
      <td><%= book.created_at.in_time_zone(@zone).to_s(:long) %></td>
      <td><%= book.purchase %></td>
      <td>
        <%= link_to 'Show', book_path(book) %> |
        <%= link_to 'Edit', edit_book_path(book) %> |
        <%= link_to 'Delete', book_path(book), method: :delete, data: {confirm: 'Are your sure?' } %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>
